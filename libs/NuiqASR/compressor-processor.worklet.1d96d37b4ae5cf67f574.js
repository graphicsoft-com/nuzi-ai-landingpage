(()=>{"use strict";var e,t;const n=(...e)=>e.reduce(((e,t)=>(e[t]=t,e)),{}),o=n("milliseconds","seconds","minutes","hours","days","weeks"),s=n("ms","s","m","h","d","w"),i=36e5,a=864e5,r={milliseconds:1,seconds:1e3,minutes:6e4,hours:i,days:a,weeks:7*a},l={ms:"milliseconds",s:"seconds",m:"minutes",h:"hours",d:"days",w:"weeks"};Number.prototype.in=function(e){return this/("number"==typeof e?e:r[e])},Object.defineProperties(Number.prototype,Object.values(o).reduce(((e,t)=>(e[t]={get(){return this*r[t]}},e)),{})),Object.defineProperties(Number.prototype,Object.values(s).reduce(((e,t)=>(e[t]={get(){return d(this*r[l[t]])}},e)),{}));const c="undefined"==typeof performance?()=>currentTime:performance.now.bind(performance),u=new(t=class t extends Function{constructor(){super("return performance.now();"),this[e]=c}},e=Symbol.toPrimitive,t),d=e=>{let t=!1;const n=new Promise((n=>setTimeout((()=>!t&&n()),e)));return Object.assign(n,{cancel:()=>{t=!0}})},{fromEntries:p,keys:m}=((new Date).getDay(),Object);const{parse:h,stringify:g}=JSON;"undefined"!=typeof navigator&&navigator.userAgent.includes("Firefox");let f=48e3;if("undefined"!=typeof AudioContext){const e=new AudioContext;f=e.sampleRate,e.close()}!!globalThis.navigator&&/Mobi|Android/i.test(navigator.userAgent);const y="undefined"==typeof location?"":location.search,b="undefined"!=typeof process,M=(!b&&"undefined"!=typeof location&&location.pathname.includes("/dashboard"),"undefined"!=typeof AudioWorkletProcessor),v="undefined"!=typeof DedicatedWorkerGlobalScope||M,$=!b&&(v||M||"undefined"!=typeof navigator),S="undefined"!=typeof location&&("localhost"===location.hostname||location.href.startsWith("blob:http://localhost"));$&&"undefined"!=typeof location&&(location.host.includes("nuiq.com")||location.href.startsWith("blob:https://nuiq.com")||S&&location.port),"undefined"!=typeof location&&(location.host.includes("stage.nuiq.com")||location.href.startsWith("blob:https://stage.nuiq.com")),S||/debug(\=true)?($|&)/.test(y),"undefined"!=typeof navigator&&/Safari/i.test(navigator.userAgent)&&navigator.userAgent.includes("Chrome"),y.includes("useDevServer=true"),Math.PI;["upload","listen","summarize","telehealth"].map((e=>`finished-${e}-transcriptions`));const w=(e,t=void 0)=>e instanceof Function?e(t):e,x=(e,t,n=(()=>{}))=>(...o)=>w(e)?t(...o):n(...o);var A;let P=!1;try{P=!1}catch(t){}const j=globalThis.setTimeout||(e=>{});class O{}A=O,O.passed=0,O.failed=0,O.testPromises=[],O.expect=x(P,((e,t,n="")=>{const o=new Promise((o=>j((async()=>{const s=await w(e),i=w(t),a=s===i,r=null!=n?n:e instanceof Function?e.name:"";a?A.passed+=1:(console.error(`ðŸ”´ failed InlineTest::${r} (expected ${i}, got ${s})`),A.failed+=1),o()}))));return A.testPromises.push(o),o})),j(x(P,(async()=>{await Promise.all(A.testPromises);const{passed:e,failed:t}=A,n=e+t;console.log(`ðŸŸ¢ InlineTest: passed ${e} / ${n} (${I(e/n)})`),t&&console.log(`ðŸ”´ InlineTest: failed ${t} / ${n} (${I(t/n)})`)})),5..seconds);const{floor:R,max:k,round:T}=Math,{isArray:F}=Array,{entries:W}=Object,{ListFormat:q}=Intl,I=e=>N(e)?`${C(100*+e)}%`:"0%",C=e=>e.toFixed(/\./.test(`${e}`)?2:0),D=new Set(["boolean","symbol"]),N=e=>!D.has(typeof e)&&""!==e&&+e==+e,z=new q("en",{style:"long",type:"conjunction"}),B=(e,t=6,n=!0,o=!1)=>{const s=[],i=s.push.bind(s),a=R,r=(e,t)=>` ${e}${t>1?"s":""}`,l=a(e.in("days"));l?(e-=l*1..days,t>0&&(i(`${l}${n?r("day",l):"d"}`),t-=1)):s.length&&(t-=1);const c=a(e.in("hours"));c?(e-=c*1..hours,t>0&&(i(`${c}${n?r("hour",c):"h"}`),t-=1)):s.length&&(t-=1);const u=a(e.in("minutes"));u?(e-=u*1..minutes,t>0&&(i(`${u}${n?r("minute",u):"m"}`),t-=1)):s.length&&(t-=1);const d=a(e.in("seconds"));d?(e-=d*1..seconds,t>0&&(i(`${d}${n?r("second",d):"s"}`),t-=1)):s.length&&(t-=1);const p=a(e);p?(e-=p*1..milliseconds,t>0&&(i(`${p} ms`),t-=1)):s.length&&(t-=1);const m=s.filter(Boolean);return m.length>2&&!o?z.format(m):m.length>1&&!o?`${m[0]} and ${m[1]}`:m.join(", ")};O.expect((()=>(e=>B(e,2,!1,!0))(3.5.days)),"3d, 12h","format.periodCompact");Map;Map;WeakMap;Map;Map;const{floor:E,max:G,min:J,pow:L,random:H,sqrt:K}=Math;new Intl.Collator("en");function Q(e,t){return n=>null==t?n[e]:t instanceof Function?t(n[e]):n[e]===t}Q("length");const U=(e,t=(e=>e))=>{let n=0;for(let o=0;o<e.length;o+=1)n+=t(e[o]);return n},V=(e,t=(e=>e))=>U(e,t)/e.length,X=(e,t=(e=>e))=>G.apply(null,e.map((e=>t(e)))),Y=(e,t=(e=>e))=>J.apply(null,e.map((e=>t(e)))),Z=(e,t=(e=>e))=>{e=e.map((e=>t(e)));const n=V(e),o=[];let s=e.length;for(;s-- >0;)o.push(L(e[s]-n,2));return V(o)},_={sum:U,mean:V,median:(e,t=(e=>e))=>{const n=[].sort.call(e.map(t),((e,t)=>e-t)),o=n.length,s=E(.5*o);return o%2?n[s]:.5*(n[s-1]+n[s])},mode:(e,t=(e=>e))=>{var n;const o=new Map;for(const s of e){const e=t(s);o.set(e,(null!==(n=o.get(e))&&void 0!==n?n:0)+1)}const s=Math.max.apply(null,[...o.values()]);return[...o.keys()].find((e=>o.get(e)===s))},min:Y,max:X,range:(e,t=(e=>e))=>(e=e.map((e=>t(e))),X(e)-Y(e)),deviation:(e,t=(e=>e))=>K(Z(e,t)),variance:Z};Object.keys(_);let{from:ee}=Array;const te=(e,t=0,n=e.length)=>{let o=0;for(let s=t;s<n;s+=1){const t=e[s];o+=t*t}const s=o/e.length;return Math.sqrt(s)};const{log10:ne}=Math,oe=(e,t,n=.5)=>e*(1-n)+t*n;class se extends AudioWorkletProcessor{constructor(){super(...arguments),this.runningAverageRMS=function e(t=0){let n=0,o=t;const s=e=>null!=e?o=(n*o+e)/(n+=1):o;return Object.defineProperties(s,{value:{get:()=>o},numSamples:{get:()=>n},toString:{get:()=>()=>o}}),Object.assign(s,{addSample:s})}(),this.globalMaxRMS=0,this.globalMinRMS=1,this.gain=function t(e=.01,n){let o;null!=n&&(o=n);let s=null==n?0:1;const i=(t,n=e)=>(void 0===t||(null!=o||(o=t),o=n*t+(1-n)*o,s+=1),o);return Object.defineProperties(i,{value:{get:()=>o},numSamples:{get:()=>s},toString:{get:()=>()=>o}}),Object.assign(i,{addSample:i})}(25e-5,1)}process(e,t){const n=e[0][0],o=t[0][0],s=te(n);this.globalMaxRMS=Math.max(s,this.globalMaxRMS),this.globalMinRMS=Math.min(s,this.globalMinRMS),this.runningAverageRMS.addSample(s);const i=.5*(this.runningAverageRMS.value+oe(this.globalMinRMS,this.globalMaxRMS))/2,a=s?(s>i?i+(s-i)/2:s+(i-s)/2)/s:1;this.gain.addSample(1*a);const r=this.gain.value;for(let e=0;e<n.length;e+=1)o[e]=r*n[e];return!0}}registerProcessor("compressor-processor",se)})();