(()=>{"use strict";var e,t;const n=(...e)=>e.reduce(((e,t)=>(e[t]=t,e)),{}),o=n("milliseconds","seconds","minutes","hours","days","weeks"),s=n("ms","s","m","h","d","w"),a=36e5,i=864e5,r={milliseconds:1,seconds:1e3,minutes:6e4,hours:a,days:i,weeks:7*i},l={ms:"milliseconds",s:"seconds",m:"minutes",h:"hours",d:"days",w:"weeks"};Number.prototype.in=function(e){return this/("number"==typeof e?e:r[e])},Object.defineProperties(Number.prototype,Object.values(o).reduce(((e,t)=>(e[t]={get(){return this*r[t]}},e)),{})),Object.defineProperties(Number.prototype,Object.values(s).reduce(((e,t)=>(e[t]={get(){return d(this*r[l[t]])}},e)),{}));const c="undefined"==typeof performance?()=>currentTime:performance.now.bind(performance),u=new(t=class t extends Function{constructor(){super("return performance.now();"),this[e]=c}},e=Symbol.toPrimitive,t),d=e=>{let t=!1;const n=new Promise((n=>setTimeout((()=>!t&&n()),e)));return Object.assign(n,{cancel:()=>{t=!0}})},{fromEntries:p,keys:m}=((new Date).getDay(),Object);const{parse:f,stringify:g}=JSON;"undefined"!=typeof navigator&&navigator.userAgent.includes("Firefox");let h=48e3;if("undefined"!=typeof AudioContext){const e=new AudioContext;h=e.sampleRate,e.close()}!!globalThis.navigator&&/Mobi|Android/i.test(navigator.userAgent);const b="undefined"==typeof location?"":location.search,y="undefined"!=typeof process,M=(!y&&"undefined"!=typeof location&&location.pathname.includes("/dashboard"),"undefined"!=typeof AudioWorkletProcessor),v="undefined"!=typeof DedicatedWorkerGlobalScope||M,S=!y&&(v||M||"undefined"!=typeof navigator),w="undefined"!=typeof location&&("localhost"===location.hostname||location.href.startsWith("blob:http://localhost"));S&&"undefined"!=typeof location&&(location.host.includes("nuiq.com")||location.href.startsWith("blob:https://nuiq.com")||w&&location.port),"undefined"!=typeof location&&(location.host.includes("stage.nuiq.com")||location.href.startsWith("blob:https://stage.nuiq.com")),w||/debug(\=true)?($|&)/.test(b),"undefined"!=typeof navigator&&/Safari/i.test(navigator.userAgent)&&navigator.userAgent.includes("Chrome"),b.includes("useDevServer=true"),Math.PI;["upload","listen","summarize","telehealth"].map((e=>`finished-${e}-transcriptions`));const x=(e,t=void 0)=>e instanceof Function?e(t):e,A=(e,t,n=(()=>{}))=>(...o)=>x(e)?t(...o):n(...o);var P;let O=!1;try{O=!1}catch(t){}const j=globalThis.setTimeout||(e=>{});class ${}P=$,$.passed=0,$.failed=0,$.testPromises=[],$.expect=A(O,((e,t,n="")=>{const o=new Promise((o=>j((async()=>{const s=await x(e),a=x(t),i=s===a,r=null!=n?n:e instanceof Function?e.name:"";i?P.passed+=1:(console.error(`ðŸ”´ failed InlineTest::${r} (expected ${a}, got ${s})`),P.failed+=1),o()}))));return P.testPromises.push(o),o})),j(A(O,(async()=>{await Promise.all(P.testPromises);const{passed:e,failed:t}=P,n=e+t;console.log(`ðŸŸ¢ InlineTest: passed ${e} / ${n} (${C(e/n)})`),t&&console.log(`ðŸ”´ InlineTest: failed ${t} / ${n} (${C(t/n)})`)})),5..seconds);const R=new Map,k=e=>{const t=JSON.stringify(e);return R.has(t)?R.get(t):(R.set(t,e),e)};$.expect(k({a:1,b:2,c:3}),k({a:1,b:2,c:3}));const{floor:T,max:F,round:W}=Math,{isArray:q}=Array,{entries:I}=Object,{ListFormat:N}=Intl,C=e=>z(e)?`${D(100*+e)}%`:"0%",D=e=>e.toFixed(/\./.test(`${e}`)?2:0),J=new Set(["boolean","symbol"]),z=e=>!J.has(typeof e)&&""!==e&&+e==+e;new N("en",{style:"long",type:"conjunction"});Map;Map;WeakMap;Map;Map;const{floor:E,max:G,min:L,pow:B,random:H,sqrt:K}=Math;new Intl.Collator("en");function Q(e,t){return n=>null==t?n[e]:t instanceof Function?t(n[e]):n[e]===t}Q("length");const U=(e,t=(e=>e))=>{let n=0;for(let o=0;o<e.length;o+=1)n+=t(e[o]);return n},V=(e,t=(e=>e))=>U(e,t)/e.length,X=(e,t=(e=>e))=>G.apply(null,e.map((e=>t(e)))),Y=(e,t=(e=>e))=>L.apply(null,e.map((e=>t(e)))),Z=(e,t=(e=>e))=>{e=e.map((e=>t(e)));const n=V(e),o=[];let s=e.length;for(;s-- >0;)o.push(B(e[s]-n,2));return V(o)},_={sum:U,mean:V,median:(e,t=(e=>e))=>{const n=[].sort.call(e.map(t),((e,t)=>e-t)),o=n.length,s=E(.5*o);return o%2?n[s]:.5*(n[s-1]+n[s])},mode:(e,t=(e=>e))=>{var n;const o=new Map;for(const s of e){const e=t(s);o.set(e,(null!==(n=o.get(e))&&void 0!==n?n:0)+1)}const s=Math.max.apply(null,[...o.values()]);return[...o.keys()].find((e=>o.get(e)===s))},min:Y,max:X,range:(e,t=(e=>e))=>(e=e.map((e=>t(e))),X(e)-Y(e)),deviation:(e,t=(e=>e))=>K(Z(e,t)),variance:Z};Object.keys(_);let{from:ee}=Array;const te=(e,t=0,n=e.length)=>{let o=0;for(let s=t;s<n;s+=1){const t=e[s];o+=t*t}const s=o/e.length;return Math.sqrt(s)};const{log10:ne}=Math,oe=(e,t,n=.5)=>e*(1-n)+t*n;class se extends AudioWorkletProcessor{constructor(){super(...arguments),this.runningAverageRMS=function e(t=0){let n=0,o=t;const s=e=>null!=e?o=(n*o+e)/(n+=1):o;return Object.defineProperties(s,{value:{get:()=>o},numSamples:{get:()=>n},toString:{get:()=>()=>o}}),Object.assign(s,{addSample:s})}(),this.globalMaxRMS=0,this.globalMinRMS=1,this.gain=function t(e=.01,n){let o;null!=n&&(o=n);let s=null==n?0:1;const a=(t,n=e)=>(void 0===t||(null!=o||(o=t),o=n*t+(1-n)*o,s+=1),o);return Object.defineProperties(a,{value:{get:()=>o},numSamples:{get:()=>s},toString:{get:()=>()=>o}}),Object.assign(a,{addSample:a})}(25e-5,1)}process(e,t){const n=e[0][0],o=t[0][0],s=te(n);this.globalMaxRMS=Math.max(s,this.globalMaxRMS),this.globalMinRMS=Math.min(s,this.globalMinRMS),this.runningAverageRMS.addSample(s);const a=.5*(this.runningAverageRMS.value+oe(this.globalMinRMS,this.globalMaxRMS))/2,i=s?(s>a?a+(s-a)/2:s+(a-s)/2)/s:1;this.gain.addSample(1*i);const r=this.gain.value;for(let e=0;e<n.length;e+=1)o[e]=r*n[e];return!0}}registerProcessor("compressor-processor",se)})();